<!DOCTYPE HTML>
<html>
	<head>
		<title>Invitation</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets_3/css/main.css" />
		<link rel="stylesheet" href="assets_4/css/main2.css" />
		<link rel="stylesheet" href="assets/css/cherry_blossom.css" />
		<link rel="stylesheet" href="assets/css/mouse_scroll.css" />
		<noscript><link rel="stylesheet" href="assets_3/css/noscript.css" /></noscript>
		<style>
			#portrait-only {
		      position: fixed;
		      inset: 0;
		      background: rgba(0, 0, 0);
		      color: #fff;
		      display: none;
		      align-items: center;
		      justify-content: center;
		      text-align: center;
		      font-size: 20px;
		      z-index: 100001;
		    }
			#viewer .slide .image {
				background-size: auto 85% !important; 
			}
			@font-face {
			    font-family: 'Baby_love';
			    src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/naverfont_01@1.0/Baby_love.woff') format('woff');
			    font-weight: normal;
			    font-style: normal;
			}
			
			/* content ë°°ê²½ + ë¸”ëŸ¬/ì–´ë‘¡ê²Œ */ 
			.content { 
				/* height: calc(var(--vh) * 100); */
				height: 100dvh;
				background-size: cover;
				background-position: center;
				position: relative;
				display: flex; 
				flex-direction: column; 
				justify-content: center; 
				align-items: center; 
				text-align: center; 
				padding: 20px; 
				transition: filter 0.5s; /* ë¸”ëŸ¬/ë°ê¸° ì• ë‹ˆë©”ì´ì…˜ */ 
			}
			
			/* ë¸”ëŸ¬ + ì–´ë‘¡ê²Œ íš¨ê³¼ */ 
			.content.blur { 
				filter: brightness(0.3) blur(4px); 
			} 
			
			/* íƒ€ì´í•‘ í…ìŠ¤íŠ¸ - ë°°ê²½ë³´ë‹¤ ìœ„ì—, ë°ê²Œ */ 
			.typing-text {
			  transition: opacity 0.8s ease;
			  line-height: 1.6;
			  font-size: 3rem;
			  font-weight: 600;
			  font-family: 'Baby_love', cursive;
			  color: rgba(255,255,255,0.95);
			  letter-spacing: -0.01em;
			  text-shadow:
			    0 1px 1px rgba(0,0,0,0.25),
			    0 8px 30px rgba(0,0,0,0.35);
			  /* white-space: pre-wrap; */
			  text-align: center;
			  position: absolute;
			  top: 50%;
			  left: 50%;
			  transform: translate(-50%, -50%);
			  opacity: 0;
			  z-index: 1000;
			  transition: 
			    opacity 1.3s ease,
			    filter 1.7s ease,
			    transform 1.7s ease;
			}
			
			/* ê¸°ë³¸ ì •ë³´ */ 
			.info { 
				font-size: 1.5rem; 
				line-height: 2.1rem; 
				font-weight: 700; 
				font-family: 'Baby_love', cursive;
				color: rgba(255,255,255,0.9); 
				max-width: 520px; 
				/* ë´„ ëŠë‚Œ í•µì‹¬ */ 
				background: linear-gradient( 180deg, rgba(255,255,255,0.18), rgba(255,255,255,0.05) ); 
				padding: 1em; 
				border-radius: 18px; 
				backdrop-filter: blur(10px) saturate(120%); 
				-webkit-backdrop-filter: blur(10px) saturate(120%); 
				box-shadow: 0 20px 50px rgba(0,0,0,0.25); 
				opacity: 0; 
				position: absolute;
				bottom: 40px;   /* í•˜ë‹¨ ì—¬ë°± */
				left: 50%;   /* í•˜ë‹¨ ì—¬ë°± */
				transform: translateX(-50%);
				width: 70%;
			}
			.info.show {
			  animation: fadeIn 7s ease forwards;
			}
			
			/* í˜ì´ë“œì¸ ì• ë‹ˆë©”ì´ì…˜ */ 
			@keyframes fadeIn { 
				to { opacity: 1; } 
			} 
			
			/* ëª¨ë°”ì¼ ëŒ€ì‘ */ 
			@media (max-width: 480px) { 
				.typing-text { 
					font-size: 2rem; 
				} 
				.info { 
					font-size: 1.5rem; 
					line-height: 1.5rem; 
				} 
			} 
			
			/* íƒ€ì´í•‘ í…ìŠ¤íŠ¸ fade in/out */ 
			@keyframes fadeInOut { 
				0% { 
					opacity: 0; transform: translateY(-20px); 
				} 
				10%, 80% { 
					opacity: 1; transform: translateY(0); 
				} 
				100% { opacity: 0; transform: translateY(-20px); 
				} 
			}

			.cursor {
			  display: inline-block;
			  width: 2px;
			  height: 1em;              /* â† í•µì‹¬! í•œ ì¤„ ë†’ì´ë§Œ */
			  background: rgba(255,255,255,0.7);
			  margin-left: 4px;
			  animation: blink 1s infinite;
			  vertical-align: baseline; /* ê¸€ì ê¸°ì¤€ ì •ë ¬ */
			}

			/* ë²„íŠ¼ */
			.button {
			  background: transparent;
			  border: 1px solid rgba(201, 179, 126, 0.9);
			  color: #3a352f;
			  padding: 0.9em 3.5em;
			  font-size: 0.7em;
			  transition: all 0.4s ease;
			}

			/* ìŠ¤í¬ë¡¤ ì‹œ ë‚˜íƒ€ë‚˜ëŠ” ê¸°ë³¸ ìƒíƒœ */
			.scroll-reveal {
			  opacity: 0;
			  transform: translateY(30px); /* ì•„ë˜ì—ì„œ ì˜¬ë¼ì˜¤ëŠ” ëŠë‚Œ */
			  transition: opacity 0.8s ease-out, transform 0.8s ease-out;
			}
			
			/* í™”ë©´ì— ë“¤ì–´ì˜¤ë©´ í™œì„±í™” */
			.scroll-reveal.active {
			  opacity: 1;
			  transform: translateY(0);
			}
		</style>
	</head>
	<body class="is-preload is-preload-0 is-preload-1 is-preload-2" oncontextmenu="return false" ondragstart="return false" onselectstart="return false" style="margin: 0">
		<div class="cherry_blossom"></div>
		<div id="portrait-only">
		    ğŸ’—<br />
		    ì´ í™”ë©´ì€ ì„¸ë¡œ ëª¨ë“œì— ìµœì í™” ë˜ì–´ìˆìŠµë‹ˆë‹¤<br />
		    ì„¸ë¡œ ëª¨ë“œ í™”ë©´ìœ¼ë¡œ ì´ìš©ë¶€íƒë“œë¦½ë‹ˆë‹¤.
		</div>
				<audio id="bgm" src="/images/bgm.mp3" loop muted></audio>
				<div class="loading-container">
					<div class="loading" style="display: flex; justify-content: center; align-items: center;">
						<img id="music" src="/images/music.webp" style="width:70%">
					</div>
				</div>
				<!-- mouse scroll -->
				<div class="btn-motion" id="scrollIndicator">
					<div class="btn-motion1"></div>
				  	<div class="btn-motion2">
				    	<span></span>
				    	<span></span>
				    	<span></span>
				  	</div>
				</div>

    <div style="height: 100%; width:100%;">
					<iframe id="invitation" style="height: 100%; width:100%; border: none;" src="/invitation.html" scrolling="auto"></iframe>
				</div>
				
		<!-- Scripts -->
			<script src="assets_3/js/jquery.min.js"></script>
			<script src="assets_3/js/browser.min.js"></script>
			<script src="assets_3/js/breakpoints.min.js"></script>
			<script src="assets_3/js/main.js"></script>
			<script src="assets_4/js/jquery.scrolly.min.js"></script>
			<script src="assets_4/js/util.js"></script>
			<script src="assets_4/js/main.js"></script>

			<script src="assets/js/cherry_blossom.js"></script>

			<!--
				2. ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸
				* ì§€ë„ í¼ê°€ê¸° ì„œë¹„ìŠ¤ë¥¼ 2ê°œ ì´ìƒ ë„£ì„ ê²½ìš°, ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ëŠ” í•˜ë‚˜ë§Œ ì‚½ì…í•©ë‹ˆë‹¤.
			-->
			<script charset="UTF-8" class="daum_roughmap_loader_script" src="https://ssl.daumcdn.net/dmaps/map_js_init/roughmapLoader.js"></script>
			
			<!-- 3. ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ -->
			<script charset="UTF-8">
				new daum.roughmap.Lander({
					"timestamp" : "1768478023932",
					"key" : "foi5r6g7msk",
					"mapHeight" : "360"
				}).render();
			</script>

			<script>
			function toggleAccounts() {
			    var content = document.getElementById("accountList");
			    var header = content.previousElementSibling; // card-headerë¥¼ ì„ íƒ
			
			    // active í´ë˜ìŠ¤ í† ê¸€ (ìˆìœ¼ë©´ ì œê±°, ì—†ìœ¼ë©´ ì¶”ê°€)
			    content.classList.toggle("active");
			    header.classList.toggle("active");
			}
			</script>

			<script>
			function toggleAccounts2() {
			    var content = document.getElementById("accountList2");
			    var header = content.previousElementSibling; // card-headerë¥¼ ì„ íƒ
			
			    // active í´ë˜ìŠ¤ í† ê¸€ (ìˆìœ¼ë©´ ì œê±°, ì—†ìœ¼ë©´ ì¶”ê°€)
			    content.classList.toggle("active");
			    header.classList.toggle("active");
			}
			</script>

			<script>
		        function bankAccountCopy(chk) {
					var span_txt = "";
					if(chk=='1') {
						span_txt = document.getElementById("bankAccount1");
					} else if (chk=='2') {
						span_txt = document.getElementById("bankAccount2");
					} else if (chk=='3') {
						span_txt = document.getElementById("bankAccount3");
					} else if (chk=='4') {
						span_txt = document.getElementById("bankAccount4");
					} else if (chk=='5') {
						span_txt = document.getElementById("bankAccount5");
					} else if (chk=='6') {
						span_txt = document.getElementById("bankAccount6");
					} else {
						span_txt = "000000000000";
					}
				    // 2. data-copy-value ì†ì„±ì˜ ê°’ ì½ê¸°
				    const valueToCopy = span_txt.getAttribute("data-copy-value");
				
				    // 3. í´ë¦½ë³´ë“œë¡œ ë³µì‚¬
				    navigator.clipboard.writeText(valueToCopy).then(() => {
						copyAndShowToast(valueToCopy);
				    }).catch(err => {
				        copyAndShowToast("error");
				    });
				}

				function copyAndShowToast(chk) {   
					showToast(chk);
				}
		
		        // 3. í† ìŠ¤íŠ¸ ì•Œë¦¼ ì œì–´ í•¨ìˆ˜
		        function showToast(chk) {
					var toast="";
					if(chk=="error"){
						toast = document.getElementById("toastErr");
					} else {
						toast = document.getElementById("toast");
					}		     

					const isAndroid = /Android/i.test(navigator.userAgent);

					if (!isAndroid) {
			            // í´ë˜ìŠ¤ ì¶”ê°€í•˜ì—¬ ë‚˜íƒ€ë‚˜ê²Œ í•¨
			            toast.classList.add("show");
			
			            // 2ì´ˆ ë’¤ì— ë‹¤ì‹œ ì‚¬ë¼ì§€ê²Œ í•¨ (2000ms)
			            setTimeout(() => {
			                toast.classList.remove("show");
			            }, 2000);
					}
		        }
		    </script>

			<script>
				const lines = [
				  { text: "ì¥ìš©í›ˆ ê·¸ë¦¬ê³  ìœ¤ì†Œí¬", speed: 130 },
				  { text: "", speed: 10 },
				  { text: "ìš°ë¦¬ ë‘ì‚¬ëŒ, ê²°í˜¼í•©ë‹ˆë‹¤!", speed: 130 }
				];
				
				const textEl = document.getElementById("text");
				const content = document.getElementById("content");
				const typingEl = document.getElementById("typing");
				
				let lineIndex = 0;
				let charIndex = 0;
				
				function startTypingEffect() {
				  document.body.style.overflow = "hidden";
				  document.documentElement.style.overflow = "hidden";
				  document.getElementById("main").style.overflow = "hidden";
					
				  content.classList.add("blur");
				  typingEl.style.opacity = 1;
				  typeLine();
				}
				
				function typeLine() {
				  const currentLine = lines[lineIndex];
				
				  if (charIndex < currentLine.text.length) {
				    textEl.innerHTML += currentLine.text.charAt(charIndex);
				    charIndex++;
				    setTimeout(typeLine, currentLine.speed);
				  } else {
				    setTimeout(() => {
				      moveToNextLine();
				    }, 600);
				  }
				}
				
				function moveToNextLine() {
				  lineIndex++;
				  charIndex = 0;
				
				  if (lineIndex < lines.length) {
				    textEl.innerHTML += "<br>";
				    typeLine();
				  } else {
				    // íƒ€ì´í•‘ ì¢…ë£Œ ì‹œ
				    document.body.style.overflow = "auto";
				    document.documentElement.style.overflow = "auto";
				    document.getElementById("main").style.overflow = "auto";
					  
				    typingEl.style.transition = "opacity 1.5s ease";
				    typingEl.style.opacity = 0;
				    content.classList.remove("blur");
					sandFlyEffect();

					const indicator = document.getElementById('scrollIndicator');
					if (indicator) {
					  document.addEventListener('touchmove', () => {
					    indicator.classList.add('hide');
					  }, { once: true, passive: true });
					}

					const infoEl = document.querySelector(".info");
					if (infoEl) {
					  infoEl.classList.add("show");
					  infoEl.style.opacity = "1";
					}
				  }
				}
				
				window.onload = startTypingEffect;
			
				function sandFlyEffect() {
				    const canvas = document.getElementById('textCanvas');
				    const ctx = canvas.getContext('2d');
				    const typingEl = document.getElementById('typing');
				    const textEl = document.getElementById('text');
				
				    canvas.width = window.innerWidth;
				    canvas.height = window.innerHeight;
				    ctx.clearRect(0, 0, canvas.width, canvas.height);
				
				    // typing-textì˜ ìœ„ì¹˜ ê°€ì ¸ì˜¤ê¸°
				    const rect = typingEl.getBoundingClientRect();
				
				    // ê¸€ì ìŠ¤íƒ€ì¼
				    ctx.font = window.getComputedStyle(textEl).font;
				    ctx.fillStyle = window.getComputedStyle(textEl).color || "#fff";
				    ctx.textAlign = "center";
				    ctx.textBaseline = "middle";
				
				    // ê° ì¤„ì˜ y ì¢Œí‘œ ê³„ì‚°
				    const linesArray = textEl.innerText.split("\n");
				    const lineHeight = parseFloat(window.getComputedStyle(textEl).lineHeight) || 30;
				    const centerX = rect.left + rect.width / 2;
				    const startY = rect.top + rect.height / 2 - lineHeight; // ì²« ì¤„ Y ìœ„ì¹˜
				    const lineYs = [
				        startY,                  // 1ë²ˆì§¸ ì¤„
				        startY + lineHeight,     // 2ë²ˆì§¸ ì¤„
				        startY + lineHeight * 2  // 3ë²ˆì§¸ ì¤„
				    ];
				
				    const particles = [];
				
				    // 1ë²ˆì§¸ì™€ 3ë²ˆì§¸ ì¤„ì—ì„œë§Œ ì…ì ë§Œë“¤ê¸°
				    [0, 2].forEach(i => {
				        ctx.fillText(linesArray[i], centerX, lineYs[i]);
				        const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
				
				        for (let y = 0; y < canvas.height; y += 2) {
				            for (let x = 0; x < canvas.width; x += 2) {
				                const index = (y * canvas.width + x) * 4;
				                if (imageData.data[index + 3] > 0) {
				                    particles.push({
				                        x, y,
				                        size: Math.random() * 1 + 0.5,
				                        vx: Math.random() * 0.5 + 0.5,
				                        vy: -Math.random() * 0.5 - 0.5,
				                        alpha: 1
				                    });
				                }
				            }
				        }
				    });
				
				    ctx.clearRect(0, 0, canvas.width, canvas.height);
				
				    function animate() {
				        ctx.clearRect(0, 0, canvas.width, canvas.height);
				        for (let p of particles) {
				            p.x += p.vx;
				            p.y += p.vy;
				            p.alpha -= 0.005;
				            if (p.alpha <= 0) continue;
				            ctx.fillStyle = `rgba(255,255,255,${p.alpha})`;
				            ctx.fillRect(p.x, p.y, p.size, p.size);
				        }
				        if (particles.some(p => p.alpha > 0)) requestAnimationFrame(animate);
				    }
				
				    animate();
				}

				//ìŠ¤í¬ë¡¤
				document.addEventListener("DOMContentLoaded", function() {
				  const scrollElements = document.querySelectorAll(".scroll-reveal");
				
				  const observer = new IntersectionObserver((entries) => {
				    entries.forEach(entry => {
				      if (entry.isIntersecting) {
				        entry.target.classList.add("active");
				        // ì˜µì…˜: í•œë²ˆ ë‚˜íƒ€ë‚˜ë©´ ê³„ì† í™œì„±í™”
				        observer.unobserve(entry.target);
				      }
				    });
				  }, {
				    threshold: 0.2 // í™”ë©´ì— 20% ë³´ì¼ ë•Œ í™œì„±í™”
				  });
				
				  scrollElements.forEach(el => observer.observe(el));
				});
			</script>

			<!-- <script>
			  function setScreenHeightOnce() {
			    const vh = window.innerHeight * 0.01;
			    document.documentElement.style.setProperty('--vh', `${vh}px`);
			  }
			  window.addEventListener('load', setScreenHeightOnce);
			</script> -->

			<script>
			const portraitOnly = document.getElementById("portrait-only");
		
			function checkOrientation() {
			  if (window.innerWidth > window.innerHeight) {
				// ê°€ë¡œëª¨ë“œ
				portraitOnly.style.display = "flex";
			  } else {
				// ì„¸ë¡œëª¨ë“œ
				portraitOnly.style.display = "none";
			  }
			}
		
			window.addEventListener("load", checkOrientation);
			window.addEventListener("resize", checkOrientation);

			/*
			const container = document.querySelector('.loading-container');

			document.addEventListener('touchstart', () => {
			  container.classList.add('is-running');
			}, { once: true });
			
			container.addEventListener('click', () => {
			  container.classList.toggle('is-running');
			});
			*/
				const container = document.querySelector('.loading-container');
				const bgm = document.getElementById('bgm');
				
				// âœ… ëª¨ë°”ì¼ ìµœì´ˆ í„°ì¹˜ â€“ ì¬ìƒ ê¶Œí•œ í™•ë³´
				/*document.addEventListener(
				  'touchstart',
				  () => {
				    bgm.muted = false;
				    bgm.play().catch(err => {
				      console.log('Autoplay blocked:', err);
				    });
				  },
				  { once: true }
				);*/

				['touchstart', 'touchend', 'pointerdown'].forEach(evt => {
				  document.addEventListener(evt, unlockAudio, { once: true });
				});
				
				function unlockAudio() {
				  bgm.muted = false;
				  bgm.play().catch(() => {});
				}

				
				// âœ… í´ë¦­ / í„°ì¹˜ â†’ ì¬ìƒ í† ê¸€
				container.addEventListener('click', () => {
				  if (bgm.paused) {
				    bgm.play();
				  } else {
				    bgm.pause();
				  }
				});
				
				// ğŸ”¥ ì‹¤ì œ audio ìƒíƒœ ê¸°ì¤€ìœ¼ë¡œ ì• ë‹ˆë©”ì´ì…˜ ì œì–´
				bgm.addEventListener('play', () => {
				  container.classList.add('is-running');
				});
				
				bgm.addEventListener('pause', () => {
				  container.classList.remove('is-running');
				});
				
				bgm.addEventListener('ended', () => {
				  container.classList.remove('is-running');
				});

		</script>		
	</body>
</html>
